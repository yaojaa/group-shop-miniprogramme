<view class="container_addnewrule">
    <!-- 添加修改运费模板 -->
    <view class='addnewrule__rule-name'>
        <van-cell-group>
            <van-field
                value="{{ freight_tpl_name }}"
                placeholder="请输入规则名称"
                border="{{ true }}"
                maxlength="{{ 50 }}"
                bind:change="onChangePanName"
                size="small"
            />
        </van-cell-group>
    </view>

    <view class="addnewrule__table">
        <view class="addnewrule__tr">
            <view class="addnewrule__th">自定义配送区域</view>
            <view class="addnewrule__th">运费</view>
        </view>
        <view class="addnewrule__tr"  wx:for="{{freight_tpl_info}}" wx:for-index="index" wx:for-item="item">
            <view class="addnewrule__td">{{item.name}}</view>
            <view class="addnewrule__td addnewrule__th-cell">
                <view class="addnewrule__th_span-option" wx:if="{{!item.isNew}}">{{item.price}}</view>
                <view class="addnewrule__th_input-option" wx:else>
                    <van-field value="{{item.price}}" size="small" border="{{ true }}" bind:change="onChangePrice"  data-index="{{index}}" />
                </view>
                <view class="addnewrule__th-option">
                    <view class="addnewrule__custom-option" bindtap="changeView" data-index="{{index}}">修改</view>
                    <view class="addnewrule__custom-option" bindtap="deleteItem" data-index="{{index}}">删除</view>
                </view>
            </view>
        </view>
        <view class="addnewrule__tr">
            <view class="addnewrule__td" bindtap="showDialog">
                <van-button
                    type="info"
                    plain
                    hairline
                    size="small"
                    class="addnewrule__td__button_add-area"
                    >
                    +添加地区
                </van-button>
            </view>
        </view>
    </view>

    <view class="addnewrule__footer">
        <van-button type="info" size="small"
                    bind:click="addInfo">保存</van-button>
    </view>

   <van-dialog
        show="{{ DialogShowStatus }}"
        use-slot
        bind:confirm="addAreaInfo"
        title="点击按钮勾选地区"
        >
        <van-checkbox-group value="{{ newAreaData.name }}" bind:change="changeArea">
            <scroll-view
                scroll-y
                style="height: 200px;"
                bindscrolltoupper="upper"
                bindscrolltolower="lower"
                bindscroll="scroll"
                scroll-into-view="{{toView}}"
                scroll-top="{{scrollTop}}"
                >
                <view class="addnewrule__dialog_chooseItem">
                    <van-checkbox
                        icon-size="10px"
                        wx:for="{{ list }}"
                        wx:key="index"
                        name="{{ item }}"
                        data-index="{{ index }}"
                        bind:click="toggle"
                        >
                        {{ item }}
                    </van-checkbox>
                </view>
            </scroll-view>
        </van-checkbox-group>
    </van-dialog>
</view>